(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{199:function(e,t,a){e.exports=a(308)},299:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);a(200),a(226),a(228),a(229),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268);var n=a(0),r=a.n(n),c=a(110),l=a.n(c),o=a(31),s=a.n(o),u=a(46),i=a.n(u),m=a(76),f=a(40),p=a(74),d=a.n(p),b=a(113),h=a.n(b),E=a(45),v=a.n(E),S=a(77),y=a.n(S),g=(a(278),a(111)),O=a(116),k=a(115),j=a(53),U=a.n(j),w=a(54),A=a.n(w),x=a(55),I=a.n(x),C=(a(279),a(112)),K=a.n(C),T=(a(280),a(114)),V=(r.a.Component,function(e){var t=e.id,a=(e.go,e.fetchedUser);return r.a.createElement(U.a,{id:t},r.a.createElement(A.a,{left:r.a.createElement(T.a,{style:{cursor:"pointer"}},r.a.createElement(K.a,null))},"\u0421\u043a\u043b\u043e\u043d\u044f\u0442\u043e\u0440"),a&&r.a.createElement(I.a,{title:"User Data Fetched with VK Bridge"}))}),W=(a(297),a(298),a(56)),z=a.n(W),J=a(73),N=a.n(J),H=a(75),B=a.n(H),F=(a(299),function(e){var t=e.id,a=e.snackbarError,c=e.fetchedUser,l=e.userHasSeenIntro,o=e.go;return r.a.createElement(U.a,{id:t,centered:!0},r.a.createElement(A.a,null,"\u0421\u043a\u043b\u043e\u043d\u044f\u0442\u043e\u0440"),!l&&c&&r.a.createElement(n.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(z.a,{className:"User"},r.a.createElement("h2",null," \u041f\u0440\u0438\u0432\u0435\u0442, ",c.first_name,"! "),r.a.createElement("h3",null," \u042d\u0442\u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0434\u043b\u044f \u0441\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f \u043f\u043e \u043f\u0430\u0434\u0435\u0436\u0430\u043c \u0441\u043b\u043e\u0432 \u0438 \u0441\u043b\u043e\u0432\u043e\u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0439."))),r.a.createElement(N.a,{vertical:"bottom"},r.a.createElement(z.a,null,r.a.createElement(B.a,{style:{height:50,cursor:"pointer"},onClick:o,size:"xl",mode:"commerce"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))),a)}),G="home",_="intro",D={STATUS:"status"},P=function(){var e=Object(n.useState)(_),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(f.a)(l,2),u=o[0],p=o[1],b=Object(n.useState)(r.a.createElement(h.a,{size:"large"})),E=Object(f.a)(b,2),S=E[0],g=E[1],O=Object(n.useState)(!1),k=Object(f.a)(O,2),j=k[0],U=k[1],w=Object(n.useState)(!1),A=Object(f.a)(w,2),x=A[0],I=A[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,s.a.send("VKWebAppStorageGet",{keys:Object.values(D)});case 5:a=e.sent,console.log(a),n={},a.keys.forEach((function(e){var t=e.key,a=e.value;try{switch(n[t]=a?JSON.parse(a):{},t){case D.STATUS:n[t].HasSeenIntro&&(c(G),U(!0))}}catch(l){I(r.a.createElement(x,{layout:"vertical",onClose:function(){return I(null)},before:r.a.createElement(v.a,{size:24,style:{backaroundColor:"var(--dynamic-red)"}},r.a.createElement(y.a,{fill:"#fff",width:"14",height:"14"})),duration:900},"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 Storage"))}})),p(t),g(null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var C=function(e){c(e)},K=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.send("VKWebAppStorageSet",{key:D.STATUS,value:JSON.stringify({hasSeenIntro:!0})});case 3:C(G),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),I(r.a.createElement(x,{layout:"vertical",onClose:function(){return I(null)},before:r.a.createElement(v.a,{size:24,style:{backaroundColor:"var(--dynamic-red)"}},r.a.createElement(y.a,{fill:"#fff",width:"14",height:"14"})),duration:900},"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Storage"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.a,{activePanel:a,popout:S},r.a.createElement(V,{id:G,fetchedUser:u,go:C,snackbarError:x}),r.a.createElement(F,{id:_,fetchedUser:u,go:K,snackbarError:x,userHasSeenIntro:j}))};s.a.send("VKWebAppInit"),l.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.0d8147a6.chunk.js.map