(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{190:function(e,t,a){e.exports=a(301)},282:function(e,t,a){},299:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);a(191),a(217),a(219),a(220),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259);var n=a(0),r=a.n(n),c=a(112),l=a.n(c),s=a(26),o=a.n(s),u=a(49),i=a.n(u),m=a(79),b=a(20),d=a(78),p=a.n(d),f=a(118),E=a.n(f),h=a(60),O=a.n(h),S=a(80),j=a.n(S),y=(a(269),a(113)),v=a(57),g=a.n(v),k=a(58),w=a.n(k),x=a(59),A=a.n(x),T=a(48),I=a.n(T),U=a(41),C=a.n(U),z=a(117),V=a.n(z),K=a(42),N=(a(279),a(56)),W=a.n(N),J=a(116),B=a.n(J),H=(a(280),a(281),a(282),function(e){var t=e.id,a=(e.go,e.routes,e.link),n=(e.value,e.setValue,e.isEmpty),c=(e.setIsEmpty,e.snackbar),l=(e.setSnackbar,e.showSpinner),s=(e.getLink,e.share,e.clearResult,e.promoBannerProps),o=e.clearAds;return r.a.createElement(g.a,{id:t},r.a.createElement(w.a,{left:r.a.createElement(K.b,{className:"btn"},r.a.createElement(B.a,null))},"\u0421\u043a\u043b\u043e\u043d\u044f\u0442\u043e\u0440"),r.a.createElement(I.a,null,r.a.createElement(C.a,{style:{paddingTop:0}},r.a.createElement(V.a,Object(y.a)({type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e",style:{width:300},size:"xl",mode:"primary","data-to":"home"},"style",{paddingTop:0,paddingBottom:0}))),r.a.createElement(C.a,{style:{paddingTop:0}},r.a.createElement(A.a,{className:"btn",size:"xl",mode:"secondary","data-to":"home",disabled:n||l},"\u0412\u043f\u0435\u0440\u0451\u0434!")),l&&r.a.createElement(W.a,{size:"medium",style:{marginTop:20}}),a&&!l&&r.a.createElement(K.d,null),a&&!l&&r.a.createElement(I.a,null)),s&&r.a.createElement(K.a,{vertical:"bottom"},r.a.createElement(K.c,{onClose:function(){return o()},bannerData:s})),c)}),G=(a(297),a(298),a(77)),P=a.n(G),R=(a(299),function(e){var t=e.id,a=e.snackbarError,c=e.fetchedUser,l=e.userHasSeenIntro,s=e.go;return r.a.createElement(g.a,{id:t,centered:!0},r.a.createElement(w.a,null,"\u0421\u043a\u043b\u043e\u043d\u044f\u0442\u043e\u0440"),!l&&c&&r.a.createElement(n.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(C.a,{className:"User"},r.a.createElement("h2",null," \u041f\u0440\u0438\u0432\u0435\u0442, ",c.first_name,"! "),r.a.createElement("h3",null," \u042d\u0442\u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0434\u043b\u044f \u0441\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f \u043f\u043e \u043f\u0430\u0434\u0435\u0436\u0430\u043c \u0441\u043b\u043e\u0432 \u0438 \u0441\u043b\u043e\u0432\u043e\u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0439."))),r.a.createElement(P.a,{vertical:"bottom"},r.a.createElement(C.a,null,r.a.createElement(A.a,{style:{height:50,cursor:"pointer"},onClick:s,size:"xl",mode:"commerce"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))),a)}),_="home",D="intro",F={STATUS:"status"},L=function(){var e=Object(n.useState)(D),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),s=Object(b.a)(l,2),u=s[0],d=s[1],f=Object(n.useState)(r.a.createElement(E.a,{size:"large"})),h=Object(b.a)(f,2),S=h[0],y=h[1],v=Object(n.useState)(!1),g=Object(b.a)(v,2),k=g[0],w=g[1],x=Object(n.useState)(!1),A=Object(b.a)(x,2),T=A[0],I=A[1],U=Object(n.useState)(),C=Object(b.a)(U,2),z=(C[0],C[1],Object(n.useState)("")),V=Object(b.a)(z,2),K=(V[0],V[1],Object(n.useState)(!0)),N=Object(b.a)(K,2),W=(N[0],N[1],Object(n.useState)(!1)),J=Object(b.a)(W,2),B=(J[0],J[1],Object(n.useState)({url:null,result:null,error:!1})),G=Object(b.a)(B,2),P=(G[0],G[1],Object(n.useState)([_])),L=Object(b.a)(P,2),q=(L[0],L[1],Object(n.useState)(null)),M=Object(b.a)(q,2),Q=(M[0],M[1],Object(n.useState)()),X=Object(b.a)(Q,2);X[0],X[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppStorageGet",{keys:Object.values(F)});case 5:a=e.sent,console.log(a),n={},a.keys.forEach((function(e){var t=e.key,a=e.value;try{switch(n[t]=a?JSON.parse(a):{},t){case F.STATUS:n[t].HasSeenIntro&&(c(_),w(!0))}}catch(l){I(r.a.createElement(T,{layout:"vertical",onClose:function(){return I(null)},before:r.a.createElement(O.a,{size:24,style:{backaroundColor:"var(--dynamic-red)"}},r.a.createElement(j.a,{fill:"#fff",width:"14",height:"14"})),duration:900},"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 Storage"))}})),d(t),y(null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var c=document.createAttribute("scheme");c.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(c)}"VKWebAppShareResult"===a&&I(r.a.createElement(T,{layout:"vertical",onClose:function(){return I(null)},duration:1100},"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0438\u0441\u044c \u0441\u0441\u044b\u043b\u043a\u043e\u0439!"))})),function(){e.apply(this,arguments)}()}),[]);var Y=function(e){c(e)},Z=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.send("VKWebAppStorageSet",{key:F.STATUS,value:JSON.stringify({hasSeenIntro:!0})});case 3:Y(_),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),I(r.a.createElement(T,{layout:"vertical",onClose:function(){return I(null)},before:r.a.createElement(O.a,{size:24,style:{backaroundColor:"var(--dynamic-red)"}},r.a.createElement(j.a,{fill:"#fff",width:"14",height:"14"})),duration:900},"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Storage"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(p.a,{activePanel:a,popout:S},r.a.createElement(H,{id:_,fetchedUser:u,go:Y,snackbarError:T}),r.a.createElement(R,{id:D,fetchedUser:u,go:Z,snackbarError:T,userHasSeenIntro:k}))};o.a.send("VKWebAppInit"),l.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.71edfc9f.chunk.js.map